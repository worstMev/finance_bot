(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2022:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(6887)}])},6887:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>_});var a=t(4848),n=t(6540),r=t(6188),i=t.n(r),l=t(1106),o=t.n(l);let _=()=>{let[e,s]=(0,n.useState)([]),[t,r]=(0,n.useState)("");(0,n.useEffect)(()=>{},[]);let l=async()=>{if(t.trim())try{let a=await fetch("https://cors-anywhere.herokuapp.com/http://18.225.54.164:8000/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t})}),n=await a.json();console.log("resp",n);let i=e.slice(),l="ask_for_eligibility"===n.intent.label,o=n.message;l&&(o+=" However, you can check your eligibility for a loan here.");let _={message:o,role:"bot",show_bt:l};i.push({message:t,role:"user",show_bt:!1}),i.push(_),s(i),r("")}catch(e){console.error("Failed to send message:",e)}},_=e.map((e,s)=>{let t="user"===e.role?i().message_user:i().message_bot;return(0,a.jsxs)("div",{className:t,children:[e.role," : ",e.message,e.show_bt&&(0,a.jsx)(o(),{href:"/form",children:(0,a.jsx)("button",{children:"Check eligibility"})})]},s)});return(0,a.jsxs)("div",{className:i().container,children:[(0,a.jsx)("h1",{children:"CHAT-BOT"}),(0,a.jsx)("div",{className:i().messages,children:_}),(0,a.jsxs)("div",{className:i().inputContainer,children:[(0,a.jsx)("input",{type:"text",value:t,onChange:e=>r(e.target.value),placeholder:"Type a message..."}),(0,a.jsx)("button",{onClick:l,children:"Send"})]})]})}},6188:e=>{e.exports={container:"styles_container__CV59p",messages:"styles_messages__xmSS8",message_user:"styles_message_user__uTypb",message_bot:"styles_message_bot__wTneL",inputContainer:"styles_inputContainer__eVMzi"}}},e=>{var s=s=>e(e.s=s);e.O(0,[106,636,593,792],()=>s(2022)),_N_E=e.O()}]);